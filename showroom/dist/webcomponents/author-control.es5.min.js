var AuthorFormControlElement=function(){"use strict";window.hasOwnProperty("AuthorBaseElement")||(console.error('[ERROR] <author-control> Required dependency "AuthorBaseElement" not found.'),console.info("AuthorBaseElement is available at https://github.com/author-elements/base"));var e=function(e){function t(){var o=this;e.call(this,'<template><style>@charset "UTF-8"; :host{display:flex;contain:style;max-width:100%}:host([type=field]){flex-direction:column}:host([type=select]){flex-direction:column}:host([type=toggle]){align-items:center}:host *,:host :after,:host :before{box-sizing:border-box}:host .hidden{display:none;visibility:hidden;opacity:0}:host .label-wrapper{flex:1 1 auto;display:flex}:host .input-wrapper{display:flex;align-items:center}:host([type=toggle]) .input-wrapper{order:-1;justify-content:center}author-control{display:flex;contain:style;max-width:100%}author-control[type=field]{flex-direction:column}author-control[type=select]{flex-direction:column}author-control[type=toggle]{align-items:center}author-control *,author-control :after,author-control :before{box-sizing:border-box}author-control .hidden{display:none;visibility:hidden;opacity:0}author-control .label-wrapper{flex:1 1 auto;display:flex}author-control .input-wrapper{display:flex;align-items:center}author-control[type=toggle] .input-wrapper{order:-1;justify-content:center}</style><slot name="afterbegin"></slot><slot name="beforelabelwrapper"></slot><div class="label-wrapper"><slot name="beforelabel"></slot><slot name="label"></slot><slot name="afterlabel"></slot></div><slot name="afterlabelwrapper"></slot><slot name="beforeinputwrapper"></slot><div class="input-wrapper"><slot name="beforeinput"></slot><slot name="input"></slot><slot name="afterinput"></slot></div><slot name="afterinputwrapper"></slot><slot name="beforeend"></slot></template>'),this.UTIL.defineAttributes({type:""}),this.UTIL.defineProperties({initialValue:{default:null},input:{private:!0},fieldInputTypes:{readonly:!0,private:!0,default:["color","date","datetime-local","email","file","hidden","image","month","number","password","range","reset","search","submit","tel","text","time","url","week","textarea"]},toggleInputTypes:{readonly:!0,private:!0,default:["checkbox","radio"]},supportedTypes:{readonly:!0,private:!0,default:["field","toggle","select"]}}),this.UTIL.definePrivateMethods({initDatalist:function(e,t){if(o.type="select",!customElements.get("author-datalist"))return e.id=o.PRIVATE.guid,t.id=e.id+"_datalist",e.setAttribute("list",t.id),e.slot=e.slot||"input",o.PRIVATE.input=e,t.querySelectorAll("option[title]").forEach(function(e){return n.removeChild(e)}),void Array.from(t.options).forEach(function(e){e.hasAttribute("label")&&""===e.getAttribute("label").trim()&&e.removeAttribute("label")});var i=document.createElement("author-datalist");i.slot="input",Array.from(t.attributes).forEach(function(e){e.specified&&(i.setAttribute(e.name,e.value),"autofocus"===e.name&&t.removeAttribute(e.name))}),o.removeChild(t),o.removeChild(e);var n=document.createElement("select");Array.from(t.children).forEach(function(e){return n.add(e)}),n.selectedIndex=-1,i.inject(e,n,o.PRIVATE.guid),o.appendChild(i),o.PRIVATE.input=i},initInput:function(e){e.slot=e.slot||"input",(o.PRIVATE.input=e).id=o.PRIVATE.guid,o.initialValue=e.value,0<=o.PRIVATE.fieldInputTypes.indexOf(e.type)&&(o.type="field"),0<=o.PRIVATE.toggleInputTypes.indexOf(e.type)&&(o.type="toggle")},initLabel:function(e){(o.label=e).slot=e.slot||"label",e.htmlFor=o.PRIVATE.guid,"select"===o.type&&o.label.addEventListener("click",function(e){o.input.focus()})},initDefaultSelect:function(t){t.id=o.PRIVATE.guid,t.slot=t.slot||"input",t.setAttribute("role","menu"),(o.PRIVATE.input=t).querySelectorAll("option[title]").forEach(function(e){return t.removeChild(e)}),Array.from(t.options).forEach(function(e){e.hasAttribute("label")&&""===e.getAttribute("label").trim()&&e.removeAttribute("label")})},initMultipleSelectMenu:function(e){if(o.type="select",o.initialValue=e.selectedOptions,!customElements.get("author-select"))return o.PRIVATE.initDefaultSelect(e);o.PRIVATE.initSelectSurrogate(e,document.createElement("author-select"))},initSelectSurrogate:function(t,i){i.slot="input",i.id=o.PRIVATE.guid,Array.from(t.attributes).forEach(function(e){e.specified&&(i.setAttribute(e.name,e.value),"autofocus"===e.name&&t.removeAttribute(e.name))}),o.removeChild(t),i.inject(t,o.querySelectorAll("label")),o.appendChild(i),o.PRIVATE.input=i},initSelectMenu:function(e){if(o.type="select",o.initialValue=e.selectedIndex,!customElements.get("author-select"))return o.PRIVATE.initDefaultSelect(e);o.PRIVATE.initSelectSurrogate(e,document.createElement("author-select"))},transformChild:function(e,t,i){switch(e.nodeName){case"LABEL":return o.PRIVATE.initLabel(e);case"INPUT":if(void 0===i[t+1])return o.PRIVATE.initInput(e);var n=i[t+1];return n&&"DATALIST"===n.nodeName?o.PRIVATE.initDatalist(e,n):o.PRIVATE.initInput(e);case"TEXTAREA":return o.PRIVATE.initInput(e);case"SELECT":return e.multiple?o.PRIVATE.initMultipleSelectMenu(e):o.PRIVATE.initSelectMenu(e);default:return void(o.initialValue=e.value)}}}),this.UTIL.monitorChildren(function(e,t){e.filter(function(e){var t=e.addedNodes.item(0);return!!t&&3!==t.nodeType}).forEach(function(e,t,i){var n=e.addedNodes.item(0);n&&o.PRIVATE.transformChild(n,t,i.map(function(e){return e.addedNodes.item(0)}))}),t.disconnect()}),this.UTIL.registerListeners(this,{connected:function(){return o.PRIVATE.guid=o.UTIL.generateGuid("control_")},rendered:function(){return Array.from(o.children).forEach(function(e,t,i){return o.PRIVATE.transformChild(e,t,i)})}})}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var i={input:{configurable:!0}},n={observedAttributes:{configurable:!0}};return n.observedAttributes.get=function(){return["disabled"]},i.input.get=function(){return this.PRIVATE.input},i.input.set=function(e){if(this.input)return console.warn("Setting <"+this.localName+"> child input programmatically is not allowed.");this.PRIVATE.input=e},Object.defineProperties(t.prototype,i),Object.defineProperties(t,n),t}(AuthorBaseElement(HTMLElement));return customElements.define("author-control",e),e}();
//# sourceMappingURL=author-control.es5.min.js.map
