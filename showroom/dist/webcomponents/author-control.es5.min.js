var AuthorFormControlElement=function(){"use strict";window.hasOwnProperty("AuthorBaseElement")||(console.error('[ERROR] <author-control> Required dependency "AuthorBaseElement" not found.'),console.info("AuthorBaseElement is available at https://github.com/author-elements/base"));var t=function(t){function e(){var o=this;t.call(this,'<template><style>@charset "UTF-8"; :host{display:flex;contain:style;max-width:100%}:host([type=field]){flex-direction:column}:host([type=select]){flex-direction:column}:host([type=toggle]){align-items:center}:host *,:host :after,:host :before{box-sizing:border-box}:host .hidden{display:none;visibility:hidden;opacity:0}:host .label-wrapper{flex:1 1 auto;display:flex}:host .input-wrapper{display:flex;align-items:center}:host([type=toggle]) .input-wrapper{order:-1;justify-content:center}author-control{display:flex;contain:style;max-width:100%}author-control[type=field]{flex-direction:column}author-control[type=select]{flex-direction:column}author-control[type=toggle]{align-items:center}author-control *,author-control :after,author-control :before{box-sizing:border-box}author-control .hidden{display:none;visibility:hidden;opacity:0}author-control .label-wrapper{flex:1 1 auto;display:flex}author-control .input-wrapper{display:flex;align-items:center}author-control[type=toggle] .input-wrapper{order:-1;justify-content:center}</style><slot name="afterbegin"></slot><slot name="beforelabelwrapper"></slot><div class="label-wrapper"><slot name="beforelabel"></slot><slot name="label"></slot><slot name="afterlabel"></slot></div><slot name="afterlabelwrapper"></slot><slot name="beforeinputwrapper"></slot><div class="input-wrapper"><slot name="beforeinput"></slot><slot name="input"></slot><slot name="afterinput"></slot></div><slot name="afterinputwrapper"></slot><slot name="beforeend"></slot></template>'),this.UTIL.defineAttributes({type:""}),this.UTIL.defineProperties({initialValue:{default:null},input:{private:!0},fieldInputTypes:{readonly:!0,private:!0,default:["color","date","datetime-local","email","file","hidden","image","month","number","password","range","reset","search","submit","tel","text","time","url","week","textarea"]},toggleInputTypes:{readonly:!0,private:!0,default:["checkbox","radio"]},supportedTypes:{readonly:!0,private:!0,default:["field","toggle","select"]}}),this.UTIL.definePrivateMethods({initDatalist:function(t,e){if(o.type="select",!customElements.get("author-datalist"))return console.dir(t),t.id=o.PRIVATE.guid,e.id=t.id+"_datalist",t.setAttribute("list",e.id),t.slot=t.slot||"input",o.PRIVATE.input=t,e.querySelectorAll("option[title]").forEach(function(t){return select.removeChild(t)}),void Array.from(e.options).forEach(function(t){t.hasAttribute("label")&&""===t.getAttribute("label").trim()&&t.removeAttribute("label")});var i=document.createElement("author-datalist");i.slot="input",Array.from(e.attributes).forEach(function(t){t.specified&&(i.setAttribute(t.name,t.value),"autofocus"===t.name&&e.removeAttribute(t.name))}),o.removeChild(e),o.removeChild(t),i.inject(t,e,o.PRIVATE.guid),o.appendChild(i),o.PRIVATE.input=i},initInput:function(t){t.slot=t.slot||"input",(o.PRIVATE.input=t).id=o.PRIVATE.guid,o.initialValue=t.value,0<=o.PRIVATE.fieldInputTypes.indexOf(t.type)&&(o.type="field"),0<=o.PRIVATE.toggleInputTypes.indexOf(t.type)&&(o.type="toggle")},initLabel:function(t){(o.label=t).slot=t.slot||"label",t.htmlFor=o.PRIVATE.guid,"select"===o.type&&o.label.addEventListener("click",function(t){o.input.focus()})},initDefaultSelect:function(e){e.id=o.PRIVATE.guid,e.slot=e.slot||"input",e.setAttribute("role","menu"),(o.PRIVATE.input=e).querySelectorAll("option[title]").forEach(function(t){return e.removeChild(t)}),Array.from(e.options).forEach(function(t){t.hasAttribute("label")&&""===t.getAttribute("label").trim()&&t.removeAttribute("label")})},initMultipleSelectMenu:function(t){if(o.type="select",o.initialValue=t.selectedOptions,!customElements.get("author-select"))return o.PRIVATE.initDefaultSelect(t);o.PRIVATE.initSelectSurrogate(t,document.createElement("author-select"))},initSelectSurrogate:function(e,i){i.slot="input",i.id=o.PRIVATE.guid,Array.from(e.attributes).forEach(function(t){t.specified&&(i.setAttribute(t.name,t.value),"autofocus"===t.name&&e.removeAttribute(t.name))}),o.removeChild(e),i.inject(e,o.querySelectorAll("label")),o.appendChild(i),o.PRIVATE.input=i},initSelectMenu:function(t){if(o.type="select",o.initialValue=t.selectedIndex,!customElements.get("author-select"))return o.PRIVATE.initDefaultSelect(t);o.PRIVATE.initSelectSurrogate(t,document.createElement("author-select"))},transformChild:function(t,e,i){switch(t.nodeName){case"LABEL":return o.PRIVATE.initLabel(t);case"INPUT":if(void 0===i[e+1])return o.PRIVATE.initInput(t);var n=i[e+1].addedNodes.item(0);return n&&"DATALIST"===n.nodeName?o.PRIVATE.initDatalist(t,n):o.PRIVATE.initInput(t);case"TEXTAREA":return o.PRIVATE.initInput(t);case"SELECT":return t.multiple?o.PRIVATE.initMultipleSelectMenu(t):o.PRIVATE.initSelectMenu(t);default:return void(o.initialValue=t.value)}}}),this.UTIL.monitorChildren(function(t,e){t.filter(function(t){var e=t.addedNodes.item(0);return!!e&&3!==e.nodeType}).forEach(function(t,e,i){var n=t.addedNodes.item(0);n&&o.PRIVATE.transformChild(n,e,i)}),e.disconnect()}),this.UTIL.registerListeners(this,{connected:function(){return o.PRIVATE.guid=o.UTIL.generateGuid("control_")},rendered:function(){return Array.from(o.children).forEach(function(t,e,i){return o.PRIVATE.transformChild(t,e,i)})}})}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={input:{configurable:!0}},n={observedAttributes:{configurable:!0}};return n.observedAttributes.get=function(){return["disabled"]},i.input.get=function(){return this.PRIVATE.input},i.input.set=function(t){if(this.input)return console.warn("Setting <"+this.localName+"> child input programmatically is not allowed.");this.PRIVATE.input=t},Object.defineProperties(e.prototype,i),Object.defineProperties(e,n),e}(AuthorBaseElement(HTMLElement));return customElements.define("author-control",t),t}();
//# sourceMappingURL=author-control.es5.min.js.map
