{"version":3,"file":"author-select.es5.js","sources":["../src/element.js"],"sourcesContent":["class AuthorSelectElement extends AuthorMenuElement {\n  constructor () {\n    super(`{{TEMPLATE-STRING}}`)\n\n    this.UTIL.defineProperties({\n      selectedOptionsElement: {\n        readonly: true,\n        get: () => this.querySelector('author-selected-options')\n      },\n\n      type: {\n        readonly: true,\n        get: () => this.multiple ? 'select-multiple' : 'select-one'\n      }\n    })\n\n    this.UTIL.defineAttributes({\n      multiple: false\n    })\n\n    this.UTIL.registerListeners(this, {\n      'attribute.change': evt => {\n        let { attribute, oldValue, newValue } = evt.detail\n\n        if (newValue === oldValue) {\n          return\n        }\n\n        switch (attribute) {\n          case 'multiple': return this.emit('state.change', {\n            name: 'multiple',\n            value: this.multiple\n          })\n\n          case 'placeholder':\n            if (this.selectedOptionsElement) {\n              this.selectedOptionsElement.update()\n            }\n\n            break\n        }\n      },\n\n      'options.selected': evt => this.emit('options.selected', evt.detail.options, this.selectedOptionsElement)\n    })\n  }\n\n  static get observedAttributes () {\n    return [...AuthorMenuElement.observedAttributes, 'multiple']\n  }\n\n  clear () {\n    super.clear()\n    this.selectedOptionsElement.clear()\n  }\n\n  inject (sourceElement, labels = null) {\n    super.inject(sourceElement, labels)\n\n    if (sourceElement.localName === 'select') {\n      let selectedOptionsElement = document.createElement('author-selected-options')\n      selectedOptionsElement.slot = 'selectedoptions'\n      this.appendChild(selectedOptionsElement)\n\n      if (!this.multiple) {\n        let selectedOption = this.optionsElement.options[this.selectedIndex]\n\n        if (selectedOption) {\n          this.selectedOptionsElement.add(selectedOption);\n        }\n      }\n    }\n  }\n}\n\ncustomElements.define('author-select', AuthorSelectElement)\n\nexport default AuthorSelectElement\n"],"names":["AuthorSelectElement","UTIL","defineProperties","selectedOptionsElement","readonly","get","querySelector","type","multiple","defineAttributes","registerListeners","evt","detail","attribute","oldValue","newValue","emit","name","value","update","options","clear","sourceElement","labels","localName","document","createElement","slot","appendChild","selectedOption","optionsElement","selectedIndex","add","AuthorMenuElement","observedAttributes","customElements","define"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAAMA;;;;;EACJ,iCAAe;EAAA;;EAAA;;EACb;;EAEA,UAAKC,IAAL,CAAUC,gBAAV,CAA2B;EACzBC,MAAAA,sBAAsB,EAAE;EACtBC,QAAAA,QAAQ,EAAE,IADY;EAEtBC,QAAAA,GAAG,EAAE;EAAA,iBAAM,MAAKC,aAAL,CAAmB,yBAAnB,CAAN;EAAA;EAFiB,OADC;EAMzBC,MAAAA,IAAI,EAAE;EACJH,QAAAA,QAAQ,EAAE,IADN;EAEJC,QAAAA,GAAG,EAAE;EAAA,iBAAM,MAAKG,QAAL,GAAgB,iBAAhB,GAAoC,YAA1C;EAAA;EAFD;EANmB,KAA3B;;EAYA,UAAKP,IAAL,CAAUQ,gBAAV,CAA2B;EACzBD,MAAAA,QAAQ,EAAE;EADe,KAA3B;;EAIA,UAAKP,IAAL,CAAUS,iBAAV,gCAAkC;EAChC,0BAAoB,yBAAAC,GAAG,EAAI;EAAA,0BACeA,GAAG,CAACC,MADnB;EAAA,YACnBC,SADmB,eACnBA,SADmB;EAAA,YACRC,QADQ,eACRA,QADQ;EAAA,YACEC,QADF,eACEA,QADF;;EAGzB,YAAIA,QAAQ,KAAKD,QAAjB,EAA2B;EACzB;EACD;;EAED,gBAAQD,SAAR;EACE,eAAK,UAAL;EAAiB,mBAAO,MAAKG,IAAL,CAAU,cAAV,EAA0B;EAChDC,cAAAA,IAAI,EAAE,UAD0C;EAEhDC,cAAAA,KAAK,EAAE,MAAKV;EAFoC,aAA1B,CAAP;;EAKjB,eAAK,aAAL;EACE,gBAAI,MAAKL,sBAAT,EAAiC;EAC/B,oBAAKA,sBAAL,CAA4BgB,MAA5B;EACD;;EAED;EAXJ;EAaD,OArB+B;EAuBhC,0BAAoB,yBAAAR,GAAG;EAAA,eAAI,MAAKK,IAAL,CAAU,kBAAV,EAA8BL,GAAG,CAACC,MAAJ,CAAWQ,OAAzC,EAAkD,MAAKjB,sBAAvD,CAAJ;EAAA;EAvBS,KAAlC;;EAnBa;EA4Cd;;;;8BAMQ;EACP;;EACA,WAAKA,sBAAL,CAA4BkB,KAA5B;EACD;;;6BAEOC,eAA8B;EAAA,UAAfC,MAAe,uEAAN,IAAM;;EACpC,sFAAaD,aAAb,EAA4BC,MAA5B;;EAEA,UAAID,aAAa,CAACE,SAAd,KAA4B,QAAhC,EAA0C;EACxC,YAAIrB,sBAAsB,GAAGsB,QAAQ,CAACC,aAAT,CAAuB,yBAAvB,CAA7B;EACAvB,QAAAA,sBAAsB,CAACwB,IAAvB,GAA8B,iBAA9B;EACA,aAAKC,WAAL,CAAiBzB,sBAAjB;;EAEA,YAAI,CAAC,KAAKK,QAAV,EAAoB;EAClB,cAAIqB,cAAc,GAAG,KAAKC,cAAL,CAAoBV,OAApB,CAA4B,KAAKW,aAAjC,CAArB;;EAEA,cAAIF,cAAJ,EAAoB;EAClB,iBAAK1B,sBAAL,CAA4B6B,GAA5B,CAAgCH,cAAhC;EACD;EACF;EACF;EACF;;;0BAzBgC;EAC/B,0CAAWI,iBAAiB,CAACC,kBAA7B,IAAiD,UAAjD;EACD;;;;IAjD+BD;;EA2ElCE,cAAc,CAACC,MAAf,CAAsB,eAAtB,EAAuCpC,mBAAvC;;;;;;;;"}