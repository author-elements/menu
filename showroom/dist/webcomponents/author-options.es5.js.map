{"version":3,"file":"author-options.es5.js","sources":["../src/element.js"],"sourcesContent":["class AuthorOptionsElement extends AuthorBaseElement(HTMLElement) {\n  constructor () {\n    super(`{{TEMPLATE-STRING}}`)\n\n    this.UTIL.defineProperties({\n      cherryPickedOptions: {\n        private: true\n      },\n\n      filteredOptions: {\n        readonly: true,\n        get: () => {\n          let { options } = this\n\n          for (let filter in this.PRIVATE.filters) {\n            options = this.PRIVATE.filters[filter]()\n          }\n\n          return Array.isArray(options) ? options : []\n        }\n      },\n\n      filters: {\n        private: true,\n        default: {}\n      },\n\n      form: {\n        readonly: true,\n        get: () => this.parentNode.form\n      },\n\n      displayOptions: {\n        readonly: true,\n        get: () => {\n          let AuthorHTMLOptionsCollection = this.PRIVATE.generateAuthorHTMLOptionsCollectionConstructor()\n          let array = this.options.map(option => option.displayElement)\n          let addFunction = (element, before) => this.addOption(this.PRIVATE.generateOptionObject(element), before)\n          let removeFunction = index => this.removeOptionByIndex(index)\n          return new AuthorHTMLOptionsCollection(array, this.selectedIndex, addFunction, removeFunction)\n        }\n      },\n\n      hoveredIndex: {\n        readonly: true,\n        get: () => this.options.findIndex(option => option.displayElement.hover)\n      },\n\n      isSlave: {\n        private: true,\n        readonly: true,\n        get: () => this.parentNode.localName === 'author-select' || this.parentNode.localName === 'author-datalist'\n      },\n\n      lastSelectedIndex: {\n        private: true\n      },\n\n      multiple: {\n        readonly: true,\n        get: () => this.parentNode.multiple\n      },\n\n      options: {\n        readonly: true,\n        default: []\n      },\n\n      selectedIndices: {\n        readonly: true,\n        get: () => [...this.selectedOptions].map(option => option.index)\n      },\n\n      selectedOptions: {\n        readonly: true,\n        get: () => {\n          let nodes = this.querySelectorAll('[selected]')\n          let AuthorHTMLCollection = this.PRIVATE.generateAuthorHTMLCollectionConstructor()\n          return new AuthorHTMLCollection(nodes)\n        }\n      },\n\n      Selection: {\n        readonly: true,\n        private: true,\n        default: class {\n          constructor (options = []) {\n            this.options = options\n          }\n\n          get displayElements () {\n            return this.options.map(option => option.displayElement)\n          }\n\n          get length () {\n            return this.options.length\n          }\n\n          get first () {\n            return this.options[0]\n          }\n\n          get last () {\n            return this.options[this.options.length - 1]\n          }\n\n          append (option) {\n            this.options.push(option)\n          }\n\n          clear () {\n            this.options = []\n          }\n\n          includes (option) {\n            return this.options.includes(option)\n          }\n\n          prepend (option) {\n            this.options.unshift(option)\n          }\n\n          selectAll () {\n            this.options.forEach(option => option.selected = true)\n          }\n        }\n      },\n\n      selectionStartIndex: {\n        private: true\n      },\n\n      visibleOptions: {\n        readonly: true,\n        get: () => this.options.filter(option => !option.hidden)\n      }\n    })\n\n    this.UTIL.definePrivateMethods({\n      arrowDownHandler: evt => {\n        if (!this.multiple) {\n          let { startIndex } = evt.detail\n\n          switch (startIndex) {\n            case this.options.length - 1:\n              return\n\n            default:\n              return this.PRIVATE.hoverNextOption(startIndex)\n          }\n\n          return\n        }\n\n        let { lastSelectedIndex } = this.PRIVATE\n\n        if (lastSelectedIndex === this.options.length - 1) {\n          return\n        }\n\n        return this.emit('option.selected', {\n          index: lastSelectedIndex === null ? 0 : lastSelectedIndex + 1,\n          keyboard: true,\n          shiftKey: evt.detail.shiftKey,\n          ctrlKey: false,\n          metaKey: false\n        })\n      },\n\n      arrowUpHandler: evt => {\n        if (!this.multiple) {\n          let { startIndex } = evt.detail\n\n          switch (startIndex) {\n            case -1:\n            case 0:\n              return\n\n            default:\n              return this.PRIVATE.hoverPreviousOption(startIndex)\n          }\n\n          return\n        }\n\n        let { lastSelectedIndex } = this.PRIVATE\n\n        if (lastSelectedIndex === 0) {\n          return\n        }\n\n        return this.emit('option.selected', {\n          index: lastSelectedIndex === null ? this.options.length - 1 : lastSelectedIndex - 1,\n          keyboard: true,\n          shiftKey: evt.detail.shiftKey,\n          ctrlKey: false,\n          metaKey: false\n        })\n      },\n\n      diffSelections: (comparator, comparable) => {\n        return comparator.filter(option => !comparable.includes(option))\n      },\n\n      generateAuthorHTMLOptionsCollectionConstructor: () => {\n        let _p = new WeakMap()\n\n        let AuthorHTMLCollection = this.PRIVATE.generateAuthorHTMLCollectionConstructor()\n\n        let AuthorHTMLOptionsCollection = class AuthorHTMLOptionsCollection extends AuthorHTMLCollection {\n          constructor (arr, selectedIndex = -1, add, remove) {\n            super(arr)\n            this.selectedIndex = selectedIndex\n            this.add = add\n            this.remove = remove\n\n            _p.set(this, {arr})\n          }\n\n          [Symbol.toStringTag] () {\n            return 'AuthorHTMLOptionsCollection'\n          }\n        }\n\n        return AuthorHTMLOptionsCollection\n      },\n\n      generateOptgroup: optgroup => {\n        if (!customElements.get('author-optgroup')) {\n          return this.UTIL.throwError({\n            type: 'dependency',\n            vars: { name: 'author-optgroup' }\n          })\n        }\n\n        let surrogate = document.createElement('author-optgroup')\n        surrogate.id = this.UTIL.generateGuid('optgroup')\n\n        let label = optgroup.getAttribute('label')\n\n        if (!label || label.trim() === '') {\n          return this.UTIL.throwError({\n            message: '<optgroup> must have a label attribute!'\n          })\n        }\n\n        surrogate.setAttribute('label', label)\n\n        let options = optgroup.querySelectorAll('option')\n        Array.from(options).forEach(option => {\n          this.addOption(this.PRIVATE.generateOptionObject(option), null, surrogate)\n        })\n\n        return surrogate\n      },\n\n      generateOptionObject: sourceElement => {\n        if (!customElements.get('author-option')) {\n          return this.UTIL.throwError({\n            type: 'dependency',\n            vars: { name: 'author-option' }\n          })\n        }\n\n        let OptionConstructor = this.PRIVATE.generateOptionConstructor()\n        return new OptionConstructor(this, this.UTIL.generateGuid(), sourceElement, document.createElement('author-option'))\n      },\n\n      generateOptionConstructor: () => {\n        let _p = new WeakMap()\n\n        return class AuthorOptionObject {\n          constructor (parent, key, sourceElement, displayElement) {\n            this.key = key\n            this.form = parent.form\n            this.defaultSelected = sourceElement.selected\n\n            this.sourceElement = sourceElement\n            this.displayElement = displayElement\n            this.displayElement.parent = parent\n            this.displayElement.selected = sourceElement.selected\n            this.displayElement.defaultSelected = sourceElement.selected\n            this.displayElement.innerHTML = sourceElement.innerHTML\n\n            // Add additional attributes\n            Array.from(sourceElement.attributes).forEach(attr => {\n              if (typeof attr.value === 'boolean') {\n                return attr.value ? this.displayElement.setAttribute(attr.name, '') : this.displayElement.removeAttribute(attr.name)\n              }\n\n              this.displayElement.setAttribute(attr.name, attr.value)\n            })\n\n            _p.set(this, {\n              attributes: {\n                disabled: sourceElement.disabled,\n                id: sourceElement.getAttribute('id'),\n                label: sourceElement.getAttribute('label') || sourceElement.textContent.trim(),\n                selected: sourceElement.selected,\n                value: sourceElement.hasAttribute('value') ? sourceElement.getAttribute('value').trim() : null,\n                text: sourceElement.text.trim()\n              },\n\n              setAttr: (name, value) => {\n                this.sourceElement[name] = value\n\n                if (typeof value === 'boolean') {\n                  value ? this.displayElement.setAttribute(name, '') : this.displayElement.removeAttribute(name)\n                } else {\n                  this.displayElement.setAttribute(name, value)\n                }\n\n                _p.get(this).attributes[name] = value\n              }\n            })\n          }\n\n          get disabled () {\n            return _p.get(this).attributes.disabled\n          }\n\n          set disabled (bool) {\n            _p.get(this).setAttr('disabled', bool)\n          }\n\n          get hidden () {\n            return this.displayElement.hidden\n          }\n\n          set hidden (bool) {\n            this.displayElement.hidden = bool\n          }\n\n          get index () {\n            return this.sourceElement.index\n          }\n\n          get id () {\n            return _p.get(this).attributes.id\n          }\n\n          set id (id) {\n            _p.get(this).setAttr('id', id)\n          }\n\n          get selected () {\n            return _p.get(this).attributes.selected\n          }\n\n          set selected (bool) {\n            _p.get(this).setAttr('selected', bool)\n          }\n\n          get label () {\n            return _p.get(this).attributes.label\n          }\n\n          set label (label) {\n            _p.get(this).setAttr('label', label)\n          }\n\n          get text () {\n            return _p.get(this).attributes.text\n          }\n\n          set text (text) {\n            _p.get(this).setAttr('text', text)\n          }\n\n          get value () {\n            return _p.get(this).attributes.value\n          }\n\n          set value (value) {\n            _p.get(this).setAttr('value', value)\n          }\n\n          remove () {\n            this.sourceElement.remove()\n            this.displayElement.remove()\n          }\n        }\n      },\n\n      getCurrentSelection: () => this.options.filter(option => option.selected),\n\n      getPreviousVisibleOption: startIndex => {\n        let index = startIndex - 1\n        let option = this.options[index]\n\n        if (!option) {\n          return null\n        }\n\n        if (option.hidden) {\n          option = this.PRIVATE.getPreviousVisibleOption(index)\n        }\n\n        return option\n      },\n\n      getNextVisibleOption: startIndex => {\n        let index = startIndex + 1\n        let option = this.options[index]\n\n        if (!option) {\n          return null\n        }\n\n        if (option.hidden) {\n          option = this.PRIVATE.getNextVisibleOption(index)\n        }\n\n        return option\n      },\n\n      handleClickSelection: (detail, cb) => {\n        let {\n          cherryPickedOptions,\n          getCurrentSelection,\n          lastSelectedIndex,\n          Selection,\n          selectionStartIndex\n        } = this.PRIVATE\n\n        let { index, shiftKey, ctrlKey, metaKey } = detail\n        let selectedOption = this.options[index]\n\n        if (shiftKey && lastSelectedIndex !== null) {\n          this.PRIVATE.lastSelectedIndex = index\n          this.PRIVATE.cherryPickedOptions.clear()\n          let bounds = [index, selectionStartIndex].sort((a, b) => a - b)\n          return cb(new Selection(bounds[0] === bounds[1] ? [selectedOption] : this.options.slice(bounds[0], bounds[1] + 1)))\n        }\n\n        let currentSelection = getCurrentSelection()\n\n        if (ctrlKey || metaKey) {\n          this.PRIVATE.lastSelectedIndex = index\n          this.PRIVATE.selectionStartIndex = index\n\n          this.PRIVATE.cherryPickedOptions.options = selectedOption.selected ? currentSelection.filter(option => option !== selectedOption) : this.options.filter(option => option === selectedOption || currentSelection.includes(option))\n          return cb(this.PRIVATE.cherryPickedOptions)\n        }\n\n        if (currentSelection.length === 1 && index === lastSelectedIndex) {\n          return\n        }\n\n        this.PRIVATE.lastSelectedIndex = index\n        this.PRIVATE.selectionStartIndex = index\n        this.PRIVATE.cherryPickedOptions.clear()\n        return cb(new Selection([selectedOption]))\n      },\n\n      handleKeyboardSelection: (detail, cb) => {\n        let {\n          cherryPickedOptions,\n          getCurrentSelection,\n          Selection,\n          selectionStartIndex\n        } = this.PRIVATE\n\n        let { index, shiftKey } = detail\n        let selectedOption = this.options[index]\n        let currentSelection = getCurrentSelection()\n\n        this.PRIVATE.lastSelectedIndex = index\n\n        if (!shiftKey || currentSelection.length === 0) {\n          this.PRIVATE.selectionStartIndex = index\n          this.PRIVATE.cherryPickedOptions.clear()\n          return cb(new Selection([selectedOption]))\n        }\n\n        // 1 option or more selected\n        if (currentSelection.length > 0) {\n          let bounds = [index, selectionStartIndex].sort()\n          let selection = new Selection(bounds[0] === bounds[1] ? [selectedOption] : this.options.slice(bounds[0], bounds[1] + 1))\n\n          if (cherryPickedOptions.length > 0) {\n            selection.options = this.options.filter(option => selection.includes(option) || cherryPickedOptions.includes(option))\n          }\n\n          return cb(selection)\n        }\n      },\n\n      hoverPreviousOption: (startIndex) => {\n        let option = this.PRIVATE.getPreviousVisibleOption(startIndex);\n\n        if (!option || option.index === startIndex) {\n          return\n        }\n\n        this.hoverOption(option.index);\n      },\n\n      hoverNextOption: (startIndex) => {\n        let option = this.PRIVATE.getNextVisibleOption(startIndex);\n\n        if (!option || option.index === startIndex) {\n          return\n        }\n\n        this.hoverOption(option.index);\n      },\n\n      optionSelectionHandler: evt => {\n        let {\n          cherryPickedOptions,\n          diffSelections,\n          getCurrentSelection,\n          generateAuthorHTMLCollectionConstructor,\n          handleClickSelection,\n          handleKeyboardSelection,\n          Selection\n        } = this.PRIVATE\n\n        if (cherryPickedOptions === null) {\n          this.PRIVATE.cherryPickedOptions = new Selection([])\n        }\n\n        let { index, keyboard } = evt.detail\n\n        let completeOperation = selection => {\n          let currentSelection = getCurrentSelection()\n          let comparator = selection.length >= currentSelection.length ? selection.options : currentSelection\n          let diff = diffSelections(comparator, comparator === currentSelection ? selection.options : currentSelection)\n\n          if (diff.length === 0 || !this.PRIVATE.isSlave) {\n            return\n          }\n\n          this.deselectAll()\n          selection.selectAll()\n          this.emit('options.selected', {\n            options: selection.options,\n            previous: this.selectedOptions,\n            next: new (generateAuthorHTMLCollectionConstructor())(selection.displayElements)\n          }, this.parentNode)\n\n          // let { beforeChange } = this.parentNode\n          //\n          // let detail = {\n          //   options: selection.options,\n          //   previous: this.selectedOptions,\n          //   next: new (generateAuthorHTMLCollectionConstructor())(selection.displayElements)\n          // }\n          //\n          // let cb = () => {\n          //   this.deselectAll()\n          //   selection.selectAll()\n          //   return this.emit('options.selected', detail, this.parentNode)\n          // }\n          //\n          // if (!(beforeChange && typeof beforeChange === 'function')) {\n          //   return cb()\n          // }\n          //\n          // beforeChange(this.selectedOptions, detail.next, cb)\n        }\n\n        if (!this.multiple) {\n          return completeOperation(new Selection([this.options[index]]))\n        }\n\n        if (keyboard) {\n          return this.PRIVATE.handleKeyboardSelection(evt.detail, completeOperation)\n        }\n\n        return this.PRIVATE.handleClickSelection(evt.detail, completeOperation)\n      },\n\n      parentStateChangeHandler: evt => {\n        this.emit('state.change', evt.detail)\n\n        let { name, value } = evt.detail\n\n        switch (name) {\n          case 'multiple':\n            if (!value && this.selectedOptions.length > 0) {\n              let index = this.selectedIndex\n\n              this.deselectAll()\n              this.emit('option.selected', { index })\n            }\n\n            break\n\n          default: return\n        }\n      }\n    })\n\n    this.UTIL.registerListeners(this, {\n      connected: () => {\n        this.PRIVATE.selectionStartIndex = this.selectedIndex >= 0 ? this.selectedIndex : 0\n\n        if (this.PRIVATE.isSlave) {\n          this.parentNode.on('state.change', this.PRIVATE.parentStateChangeHandler)\n        }\n      },\n\n      disconnected: () => {\n        if (this.PRIVATE.isSlave) {\n          this.parentNode.off('state.change', this.PRIVATE.parentStateChangeHandler)\n        }\n      },\n\n      'keydown.arrowUp': this.PRIVATE.arrowUpHandler,\n      'keydown.arrowDown': this.PRIVATE.arrowDownHandler,\n      'option.selected': this.PRIVATE.optionSelectionHandler\n    })\n  }\n\n  get selectedIndex () {\n    return this.selectedOptions.length > 0\n      ? this.selectedOptions.item(0).index\n      : -1\n  }\n\n  set selectedIndex (index) {\n    this.emit('option.selected', { index })\n  }\n\n  get selectionStartIndex () {\n    return this.PRIVATE.selectionStartIndex\n  }\n\n  set selectionStartIndex (value) {\n    this.UTIL.throwError({\n      type: 'readonly',\n      message: `\"selectionStartIndex\" cannot be set manually.`\n    })\n  }\n\n  addFilter (key = this.UTIL.generateGuid('filter_'), func) {\n    if (typeof func !== 'function') {\n      this.UTIL.throwError({\n        type: 'type',\n        message: `Filter must be a function`\n      })\n    }\n\n    if (this.PRIVATE.filters.hasOwnProperty(key)) {\n      console.warn(`Filter \"${key}\" alredy exists! Overwriting...`)\n    }\n\n    this.PRIVATE.filters[key] = func\n  }\n\n  hasFilter (filter) {\n    return this.PRIVATE.filters.hasOwnProperty(filter)\n  }\n\n  removeFilter (key) {\n    if (!this.PRIVATE.filters.hasOwnProperty(key)) {\n      return console.warn(`Filter \"${key}\" not found.`)\n    }\n\n    delete this.PRIVATE.filters[key]\n  }\n\n  removeAllFilters () {\n    this.PRIVATE.filters = {}\n  }\n\n  addOptgroup (optgroup) {\n    let label = document.createElement('author-optgroup-label')\n    label.innerHTML = optgroup.getAttribute('label')\n\n    this.appendChild(label)\n    this.appendChild(optgroup)\n  }\n\n  addOption (option, index = null, dest = this) {\n    if (!customElements.get('author-option')) {\n      return this.UTIL.throwError({\n        type: 'dependency',\n        vars: {\n          name: 'author-option'\n        }\n      })\n    }\n\n    if (option instanceof Option) {\n      option = this.PRIVATE.generateOptionObject(option)\n    }\n\n    if (this.PRIVATE.isSlave) {\n      this.parentNode[`${option.index}`] = option.displayElement\n    }\n\n    if (index) {\n      dest.insertBefore(option.displayElement, dest.children.item(index))\n\n      this.options.splice(index, 0, option)\n\n      if (this.PRIVATE.isSlave) {\n        this.parentNode.sourceElement.add(option.sourceElement, index)\n      }\n\n    } else {\n      dest.appendChild(option.displayElement)\n      this.options.push(option)\n\n      if (this.PRIVATE.isSlave && !this.parentNode.sourceElement[this.options.length - 1]) {\n        this.parentNode.sourceElement.appendChild(option.sourceElement)\n      }\n    }\n\n    if (option.selected) {\n      if (!this.multiple) {\n        this.selectedIndex = option.index\n        return\n      }\n    }\n  }\n\n  addOptions (children) {\n    Array.from(children).forEach(child => {\n      let isElement = child instanceof HTMLElement\n\n      switch (child.nodeName) {\n        case 'OPTION':\n          return this.addOption(isElement ? this.PRIVATE.generateOptionObject(child) : child)\n\n        case 'OPTGROUP':\n          return this.addOptgroup(isElement ? this.PRIVATE.generateOptgroup(child) : child)\n\n        default:\n          return this.UTIL.printToConsole(`${child.nodeName.toLowerCase()} is not a valid child element for <author-select>. Removing...`, 'warning')\n      }\n    })\n  }\n\n  clear () {\n    while (this.lastChild) {\n      this.removeChild(this.lastChild)\n    }\n  }\n\n  deselect (option, updateList = true) {\n    if (typeof option === 'number') {\n      option = this.options[option]\n    }\n\n    option.selected = false\n\n    if (this.PRIVATE.isSlave && this.selectedOptionsElement !== undefined) {\n      this.parentNode.selectedOptionsElement.remove(option, updateList)\n    }\n  }\n\n  deselectAll (showPlaceholder = true) {\n    this.options.filter(option => option.selected).forEach((option, index, options) => {\n      this.deselect(option, index = options.length - 1 && showPlaceholder)\n    })\n  }\n\n  find (query, caseSensitive = false) {\n    let results = Array.from(this.options).filter(option => {\n      let value = caseSensitive ? option.value : option.value.toLowerCase()\n      let text = caseSensitive ? option.text : option.text.toLowerCase()\n      query = caseSensitive ? query : query.toLowerCase()\n\n      return value.indexOf(query) >= 0 || text.indexOf(query) >= 0\n    })\n\n    return Array.isArray(results) ? results : []\n  }\n\n  hoverOption (index) {\n    this.unHoverAllOptions()\n    this.options[index].displayElement.hover = true\n  }\n\n  item (index) {\n    return this.options[index].displayElement\n  }\n\n  namedItem (value) {\n    let query = this.options.filter(option => {\n      let id = option.sourceElement.attributes.getNamedItem('id')\n      return id && id.value === value\n    })\n\n    if (!query.length) {\n      return null\n    }\n\n    return query[query.length - 1].displayElement\n  }\n\n  /**\n   * @method removeOptionByIndex\n   * @param  {Number}  [index=null]\n   * Index of option to remove\n   * @param  {Boolean} [destroy=true]\n   */\n  removeOptionByIndex (index = null) {\n    if (index === null || index >= this.options.length) {\n      return\n    }\n\n    this.options[index].remove()\n  }\n\n  unHoverAllOptions () {\n    this.options.forEach((option, index) => this.unHoverOption(index))\n  }\n\n  unHoverOption (index) {\n    this.options[index].displayElement.hover = false\n  }\n}\n\ncustomElements.define('author-options', AuthorOptionsElement)\n\nexport default AuthorOptionsElement\n"],"names":["AuthorOptionsElement","UTIL","defineProperties","cherryPickedOptions","private","filteredOptions","readonly","get","options","filter","PRIVATE","filters","Array","isArray","default","form","parentNode","displayOptions","AuthorHTMLOptionsCollection","generateAuthorHTMLOptionsCollectionConstructor","array","map","option","displayElement","addFunction","element","before","addOption","generateOptionObject","removeFunction","index","removeOptionByIndex","selectedIndex","hoveredIndex","findIndex","hover","isSlave","localName","lastSelectedIndex","multiple","selectedIndices","selectedOptions","nodes","querySelectorAll","AuthorHTMLCollection","generateAuthorHTMLCollectionConstructor","Selection","push","includes","unshift","forEach","selected","length","selectionStartIndex","visibleOptions","hidden","definePrivateMethods","arrowDownHandler","evt","startIndex","detail","hoverNextOption","emit","keyboard","shiftKey","ctrlKey","metaKey","arrowUpHandler","hoverPreviousOption","diffSelections","comparator","comparable","_p","WeakMap","arr","add","remove","set","Symbol","toStringTag","generateOptgroup","optgroup","customElements","throwError","type","vars","name","surrogate","document","createElement","id","generateGuid","label","getAttribute","trim","message","setAttribute","from","sourceElement","OptionConstructor","generateOptionConstructor","parent","key","defaultSelected","innerHTML","attributes","attr","value","removeAttribute","disabled","textContent","hasAttribute","text","setAttr","bool","getCurrentSelection","getPreviousVisibleOption","getNextVisibleOption","handleClickSelection","cb","selectedOption","clear","bounds","sort","a","b","slice","currentSelection","handleKeyboardSelection","selection","hoverOption","optionSelectionHandler","completeOperation","diff","deselectAll","selectAll","previous","next","displayElements","parentStateChangeHandler","registerListeners","connected","on","disconnected","off","func","hasOwnProperty","console","warn","appendChild","dest","Option","insertBefore","children","item","splice","child","isElement","HTMLElement","nodeName","addOptgroup","printToConsole","toLowerCase","lastChild","removeChild","updateList","selectedOptionsElement","undefined","showPlaceholder","deselect","query","caseSensitive","results","indexOf","unHoverAllOptions","getNamedItem","unHoverOption","AuthorBaseElement","define"],"mappings":"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"}