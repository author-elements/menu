{"version":3,"file":"author-menu.js","sources":["../src/element.js"],"sourcesContent":["class AuthorMenuElement extends AuthorBaseElement(HTMLElement) {\n  constructor (templateString = null) {\n    super(templateString || `{{TEMPLATE-STRING}}`)\n\n    this.UTIL.defineProperties({\n      form: {\n        readonly: true\n      },\n\n      hoveredIndex: {\n        readonly: true,\n        get: () => this.optionsElement.hoveredIndex\n      },\n\n      injected: {\n        private: true,\n        default: false\n      },\n\n      options: {\n        readonly: true,\n        get: () => this.optionsElement.displayOptions\n      },\n\n      optionsElement: {\n        readonly: true,\n        get: () => this.querySelector('author-options')\n      },\n\n      selectedOptions: {\n        readonly: true,\n        get: () => this.optionsElement ? this.optionsElement.selectedOptions : null\n      },\n\n      title: {\n        private: true,\n        default: ''\n      },\n\n      willValidate: {\n        readonly: true,\n        get: () => this.sourceElement.willValidate\n      },\n\n      validationMessage: {\n        readonly: true,\n        get: () => this.sourceElement.validationMessage\n      },\n\n      validity: {\n        readonly: true,\n        get: () => this.sourceElement.validity\n      }\n    })\n\n    this.UTIL.defineAttributes({\n      name: '',\n      placeholder: '',\n      autofocus: false,\n      disabled: false,\n      open: false,\n      required: false,\n\n      size: {\n        get: () => this.PRIVATE.throwSizeAttributeWarning(),\n        set: () => this.PRIVATE.throwSizeAttributeWarning()\n      }\n    })\n\n    this.UTIL.definePrivateMethods({\n      addOpenListeners: () => {\n        document.addEventListener('mousedown', this.PRIVATE.bodyMousedownHandler)\n        document.addEventListener('touchcancel', this.PRIVATE.bodyMousedownHandler)\n        document.addEventListener('touchend', this.PRIVATE.bodyMousedownHandler)\n      },\n\n      blurHandler: evt => this.off('keydown', this.PRIVATE.keydownHandler),\n\n      bodyMousedownHandler: evt => {\n        if (evt.target === this || this.contains(evt.target)) {\n          return\n        }\n\n        this.open = false\n      },\n\n      focusHandler: evt => this.on('keydown', this.PRIVATE.keydownHandler),\n\n      keydownHandler: evt => {\n        let startIndex = this.hoveredIndex > -1\n          ? this.hoveredIndex\n          : this.selectedIndex > -1\n            ? this.selectedIndex\n            : -1\n\n        switch (evt[this.keySource]) {\n          case 27:\n          case 'Escape':\n            this.open = false\n            return\n\n          case 13:\n          case 'Enter':\n          case 32:\n          case ' ':\n            evt.preventDefault()\n\n            if (!this.multiple) {\n              if (!this.open && (evt[this.keySource] === 32 || evt[this.keySource] === ' ')) {\n                this.open = true\n                return\n              }\n\n              if (this.hoveredIndex === this.selectedIndex || this.hoveredIndex === -1) {\n                this.open = false\n                return\n              }\n\n              this.selectedIndex = this.hoveredIndex\n            }\n\n            break\n\n          case 38:\n          case 'ArrowUp':\n            evt.preventDefault()\n\n            if (!this.multiple && !this.open) {\n              this.open = true\n              return\n            }\n\n            return this.emit('keydown.arrowUp', {\n              shiftKey: evt.shiftKey,\n              startIndex\n            }, this.optionsElement)\n\n          case 40:\n          case 'ArrowDown':\n            evt.preventDefault()\n\n            if (!this.multiple && !this.open) {\n              this.open = true\n              return\n            }\n\n            return this.emit('keydown.arrowDown', {\n              shiftKey: evt.shiftKey,\n              startIndex\n            }, this.optionsElement)\n\n          case 9:\n          case 'Tab':\n            this.open = false\n            break\n        }\n      },\n\n      optionSelectionHandler: evt => {\n        evt.stopPropagation()\n        // let { afterChange } = this.PRIVATE.middleware\n\n        this.dispatchEvent(new Event('change', {}))\n\n        if (this.open) {\n          this.removeAttribute('open')\n        }\n\n        // if (this.checkValidity()) {\n        //   this.removeAttribute('invalid')\n        // } else {\n        //   this.setAttribute('invalid', '')\n        // }\n\n        // if (afterChange && typeof afterChange === 'function') {\n        //   afterChange(evt.detail.previous, this.selectedOptions)\n        // }\n      },\n\n      removeOpenListeners: () => {\n        document.removeEventListener('mousedown', this.PRIVATE.bodyMousedownHandler)\n        document.removeEventListener('touchcancel', this.PRIVATE.bodyMousedownHandler)\n        document.removeEventListener('touchend', this.PRIVATE.bodyMousedownHandler)\n      },\n\n      stateChangeHandler: evt => {\n        let { name, value } = evt.detail\n\n        if (name === 'multiple' && value && this.hasAttribute('open')) {\n          this.removeAttribute('open')\n        }\n\n        if (name === 'open') {\n          if (!value) {\n            return this.PRIVATE.removeOpenListeners()\n          }\n\n          if (this.multiple) {\n            return this.removeAttribute('open')\n          }\n\n          this.optionsElement.unHoverAllOptions()\n          return this.PRIVATE.addOpenListeners()\n        }\n      },\n\n      throwSizeAttributeWarning: () => {\n        this.UTIL.printToConsole(`\"size\" attribute is not supported. Please use CSS to set the height of the options panel instead.`, 'warning')\n      },\n\n      toggleHandler: evt => this.open = !this.open//,\n\n      // validationHandler: evt => this.emit('invalid')\n    })\n\n    this.UTIL.registerListeners(this, {\n      'attribute.change': evt => {\n        let { attribute, oldValue, newValue } = evt.detail\n\n        if (newValue === oldValue) {\n          return\n        }\n\n        switch (attribute) {\n          case 'open':\n            return this.emit('state.change', {\n              name: 'open',\n              value: this.open\n            })\n\n            case 'size':\n              return this.PRIVATE.throwSizeAttributeWarning()\n        }\n      },\n\n      // connected: () => {\n      //   this.sourceElement.addEventListener('invalid', this.PRIVATE.validationHandler)\n      //\n      //   if (!this.checkValidity()) {\n      //     this.setAttribute('invalid', '')\n      //   }\n      // },\n\n      // disconnected: () => {\n      //   this.sourceElement.removeEventListener('invalid', this.PRIVATE.validationHandler)\n      // },\n\n      blur: this.PRIVATE.blurHandler,\n      focus: this.PRIVATE.focusHandler,\n      'options.selected': this.PRIVATE.optionSelectionHandler,\n      'state.change': this.PRIVATE.stateChangeHandler,\n      toggle: this.PRIVATE.toggleHandler,\n\n      rendered: () => {\n        if (!this.hasAttribute('tabindex')) {\n          this.setAttribute('tabindex', 0)\n        }\n\n        this.autofocus && this.focus()\n      }\n    })\n  }\n\n  static get observedAttributes () {\n    return ['autofocus', 'disabled', 'name', 'open', 'placeholder', 'tabindex', 'size']\n  }\n\n  get length () {\n    return this.options.length\n  }\n\n  get selectedIndex () {\n    return this.optionsElement ? this.optionsElement.selectedIndex : -1\n  }\n\n  set selectedIndex (index) {\n    if (index < 0) {\n      return this.deselectAll()\n    }\n\n    this.optionsElement.selectedIndex = index\n  }\n\n  get value () {\n    if (this.selectedOptions.length === 0) {\n      return null\n    }\n\n    let selectedOption = this.selectedOptions.item(0)\n    return selectedOption ? selectedOption.value || selectedOption.text : null\n  }\n\n  add (option, index) {\n    this.optionsElement.addOption(option, index)\n  }\n\n  checkValidity () {\n    return this.sourceElement.checkValidity()\n  }\n\n  clear () {\n    this.optionsElement.clear()\n  }\n\n  deselectAll () {\n    this.optionsElement.deselectAll()\n  }\n\n  inject (sourceElement, labels = null) {\n    // Prevent re-injections\n    if (this.PRIVATE.injected) {\n      return\n    }\n\n    this.UTIL.defineProperty('sourceElement', {\n      readonly: true,\n      default: sourceElement\n    })\n\n    let optionsElement = document.createElement('author-options')\n    optionsElement.slot = 'options'\n\n    if (labels) {\n      this.UTIL.defineProperty('labels', {\n        private: true,\n        default: labels\n      })\n    }\n\n    this.appendChild(optionsElement)\n\n    if (sourceElement.children.length > 0) {\n      if (!this.multiple) {\n        Array.from(sourceElement.children).forEach(option => {\n          if (option.index !== sourceElement.selectedIndex) {\n            option.removeAttribute('selected')\n          }\n        })\n      }\n\n      this.optionsElement.addOptions(sourceElement.children)\n    }\n\n    this.PRIVATE.injected = true\n  }\n\n  item (index) {\n    return this.optionsElement.item(index)\n  }\n\n  namedItem (id) {\n    return this.optionsElement.namedItem(id)\n  }\n\n  /**\n   * method querySelector\n   * @param  {string} selector\n   * @return {HTMLElement}\n   * @override\n   */\n  querySelector (selector) {\n    if (!selector.includes(':checked')) {\n      return super.querySelector(selector)\n    }\n\n    return this.selectedOptions.length > 0 ? this.selectedOptions[0] : null\n  }\n\n  /**\n   * method querySelectorAll\n   * @param  {string} selector\n   * @return {NodeList}\n   * @override\n   */\n  querySelectorAll (selector) {\n    if (!selector.includes(':checked')) {\n      return super.querySelectorAll(selector)\n    }\n\n    return this.optionsElement.querySelectorAll('[selected]')\n  }\n\n  remove (index = null) {\n    if (index === null) {\n      return super.remove()\n    }\n\n    this.optionsElement.removeOptionByIndex(index)\n  }\n\n  reportValidity () {\n    let isValid = this.sourceElement.checkValidity()\n\n    if (isValid) {\n      this.removeAttribute('invalid')\n    } else {\n      this.setAttribute('invalid', '')\n    }\n  }\n\n  setCustomValidity (string) {\n    this.sourceElement.setCustomValidity(string)\n  }\n}\n\ncustomElements.define('author-menu', AuthorMenuElement)\n\nexport default AuthorMenuElement\n"],"names":[],"mappings":"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"}