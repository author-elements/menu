var AuthorBaseElement=function(){"use strict";return e=>(class extends e{constructor(e){super(),Object.defineProperties(this,{PRIVATE:{value:{}},UTIL:{value:{}}}),Object.defineProperties(this.PRIVATE,{attributes:{value:{}},booleanAttributes:{value:{}},properties:{value:{}},privateProperties:{value:[]},listeners:{value:[]},styleRules:{value:{}},initialize:{value:e=>{this.keySource="key"in KeyboardEvent.prototype?"key":"keyIdentifier"in KeyboardEvent.prototype?"keyIdentifier":"keyCode",this.attachShadow({mode:"open"});let t=document.createElement("div");t.insertAdjacentHTML("afterbegin",e);let r=t.querySelector("template");"content"in r?this.shadowRoot.appendChild(r.content.cloneNode(!0)):r.childNodes.forEach(e=>{this.shadowRoot.appendChild(e.cloneNode(!0))}),r=null,this.crypto=null;try{this.crypto=crypto}catch(e){this.crypto=msCrypto}}},definePrivateProperty:{value:(e,t)=>{this.PRIVATE.privateProperties[e]=null,Object.defineProperty(this.PRIVATE,e,{get:()=>t.hasOwnProperty("get")?"function"!=typeof t.get?this.UTIL.throwError({type:"type",message:"Property getter must be a function"}):t.get():null===this.PRIVATE.privateProperties[e]?t.default:this.PRIVATE.privateProperties[e],set:r=>{if(t.readonly)return this.UTIL.throwError({type:"readonly",vars:{prop:e}});this.PRIVATE.privateProperties[e]=r}})}},defineReadOnlyProperty:{value:(e,t)=>{let r={set:t=>{this.UTIL.throwError({type:"readonly",vars:{prop:e}})},get:()=>t.hasOwnProperty("get")?"function"!=typeof t.get?this.UTIL.throwError({type:"type",message:"Property getter must be a function"}):t.get():t.hasOwnProperty("default")?t.default:null};Object.defineProperty(this,e,r)}},generateAuthorHTMLCollectionConstructor:{value:function(){let e=new WeakMap;return class{constructor(t){e.set(this,{arr:t}),t.forEach((e,t)=>{this[t]=e,e.id&&(this[e.id]=e)})}get length(){return e.get(this).arr.length}item(t){return e.get(this).arr[t]}namedItem(t){let r=e.get(this).arr.filter(e=>e.id===t||e.name===t);return r.length>0?r[0]:null}[Symbol.iterator](){let t=0;return{next:()=>{let r={value:e.get(this).arr[t],done:!(t in e.get(this).arr)};return t++,r}}}[Symbol.toStringTag](){return"AuthorHTMLCollection"}}}},getStyleRule:{value:e=>{let t=this.PRIVATE.styleRules[e];return t||this.UTIL.throwError({message:`Style Rule "${e}" not found`})}},getBooleanAttributeValue:{value:e=>this.hasAttribute(e)&&"false"!==this.getAttribute(e)},setBooleanAttributeValue:{value:(e,t)=>{if("boolean"==typeof t&&(t=t.toString()),!["true","false","",null].includes(t))return this.UTIL.printToConsole(`"${e}" attribute expected boolean but received "${t}"`,"error"),this.removeAttribute(e);switch(t){case"false":case null:return this.removeAttribute(e);case"true":case"":return this.setAttribute(e,"")}}}}),Object.defineProperties(this.UTIL,{childMonitor:{value:null},defineAttribute:{value:(e,t)=>{let r=null,s=null;if("object"==typeof t){let e=t;e.hasOwnProperty("get")&&(r=e.get),e.hasOwnProperty("set")&&(s=e.set),t=e.hasOwnProperty("default")?e.default:null}let i="boolean"==typeof t,o=i?"booleanAttributes":"attributes";Object.defineProperty(this.PRIVATE[o],e,{get:()=>{if(r){let e=r();return null===e?t:e}return t},set:e=>s&&s(e)}),Object.defineProperty(this,e,{get:()=>{if(r){let e=r();return null===e?t:e}return i?this.PRIVATE.getBooleanAttributeValue(e):this.hasAttribute(e)?this.getAttribute(e):t},set:t=>{if(s&&s(t),r&&(t=this.PRIVATE[o][e]),i)return this.PRIVATE.setBooleanAttributeValue(e,t);this.setAttribute(e,t)}})}},defineAttributes:{value:e=>{for(let t in e)this.UTIL.defineAttribute(t,e[t])}},defineProperty:{value:(e,t)=>{if("object"!=typeof t||null===t)return this.PRIVATE.properties[e]=t,void(this[e]=t);let r={readonly:t.hasOwnProperty("readonly")&&!0===t.readonly,private:t.hasOwnProperty("private")&&!0===t.private,default:t.hasOwnProperty("default")?t.default:null};if(t.hasOwnProperty("get")){if("function"!=typeof t.get)return this.UTIL.throwError({type:"type",message:"Property getter must be a function"});r.get=t.get}if(t.hasOwnProperty("set")){if("function"!=typeof t.set)return this.UTIL.throwError({type:"type",message:"Property setter must be a function"});r.set=t.set}return t.private?this.PRIVATE.definePrivateProperty(e,r):t.readonly?this.PRIVATE.defineReadOnlyProperty(e,r):(this.PRIVATE.properties[e]=r.default,void Object.defineProperty(this,e,{get:()=>r.hasOwnProperty("get")?r.get():null===this.PRIVATE.properties[e]?r.default:this.PRIVATE.properties[e],set:t=>{if(r.hasOwnProperty("set"))return r.set(t);this.PRIVATE.properties[e]=t}}))}},defineProperties:{value:e=>{for(let t in e)this.UTIL.defineProperty(t,e[t])}},definePrivateMethods:{value:e=>{for(let t in e){if(this.PRIVATE.hasOwnProperty(t))return this.UTIL.throwError({message:`Cannot create private method. Property name "${t}" is already in use.`});this.PRIVATE[t]=e[t]}}},createEvent:{value:(e,t)=>new CustomEvent(e,{detail:t})},generateGuid:{value:(e=null,t=null)=>{let r=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e=>(e^this.crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16));return e&&(r=`${e}${r}`),t&&(r=`${r}${t}`),r}},insertStyleRule:{value:(e,t,r=this.PRIVATE.styleSheet.cssRules.length)=>{this.PRIVATE.styleSheet.insertRule(t,r),this.PRIVATE.styleRules[e]={default:this.PRIVATE.styleSheet.cssRules[r]},t.includes(":host(")&&(r+=1,(t=`${this.localName}${/\(([^)]+)\)/.exec(t)[1]} {}`)&&(this.PRIVATE.styleSheet.insertRule(t,r),this.PRIVATE.styleRules[e].legacy=this.PRIVATE.styleSheet.cssRules[r]))}},insertStyleRules:{value:e=>{for(let t in e){let r=e[t];if("string"!=typeof r){if(Array.isArray(r)||"object"!=typeof r)return this.UTIL.throwError({type:"type",message:`Invalid Style Rule definition "${JSON.stringify(r)}". Definitions must either be a valid CSS selector string or an object`});if(!r.hasOwnProperty("selector"))return this.UTIL.throwError({message:'Style Rule Definition must include a "selector" property'});this.insertStyleRule(t,r.selector,r.hasOwnProperty("index")?r.index:null)}else this.UTIL.insertStyleRule(t,r)}}},removeStyleProperty:{value:(e,t)=>{let r=this.PRIVATE.getStyleRule(e);r.default.style.removeProperty(t),r.hasOwnProperty("legacy")&&r.legacy.style.removeProperty(t)}},removeStyleProperties:{value:(e,t)=>{if(!Array.isArray(t))return this.UTIL.throwError({type:"type",message:"Style property names must be an array of strings"});t.forEach(t=>this.UTIL.removeStyleProperty(e,t))}},setStyleProperty:{value:(e,t,r,s=!1)=>{let i=this.PRIVATE.getStyleRule(e);i.default.style.setProperty(t,r,s?"important":void 0),i.hasOwnProperty("legacy")&&i.legacy.style.setProperty(t,r,s?"important":void 0)}},setStyleProperties:{value:(e,t)=>{if(!Array.isArray(t))return this.UTIL.throwError({type:"type",message:"Style properties must be an array of objects"});t.forEach(t=>{let r=t.hasOwnProperty("important")&&!0===t.important;this.UTIL.setStyleProperty(e,t.name,t.value,r)})}},throwError:{value:e=>{let t=`<${this.localName}> `,r=e.hasOwnProperty("type")?e.type:"custom",s=new Error,{vars:i}=e;if("dependency"===r)t+="Missing dependency",i&&(i.hasOwnProperty("name")&&(t+=`: ${i.name}`),i.hasOwnProperty("url")&&(t+=` ${i.url}`));else if("readonly"===r)t+="Cannot set read-only property",i&&i.hasOwnProperty("prop")&&(t+=` "${i.prop}"`);else if("reference"===r)s=new ReferenceError;else{if("type"!==r)return this.UTIL.throwError({message:`Unrecognized error type "${r}". Accepted types: "custom", "dependency", "readonly", "reference", "type"`});s=new TypeError}throw e.hasOwnProperty("message")&&(t+=` ${e.message}`),s.message=t.trim(),s}},printToConsole:{value:(e,t="log")=>{let r=`<${this.localName}> ${e}`;switch(t){case"warning":return console.warn(`[WARNING] ${r}`);case"error":return console.error(`[ERROR] ${r}`);case"info":return console.info(r);default:return console.log(r)}}},monitorChildren:{value:(e,t=null)=>{this.childMonitor=new MutationObserver(e),t=t||{childList:!0,attributes:!1,characterData:!1,subtree:!1},this.childMonitor.observe(this,t)}},registerListener:{value:(e,t,r)=>{let s={id:`listener_${this.UTIL.generateGuid()}`,apply:()=>e.addEventListener(t,r),remove:()=>e.removeEventListener(t,r)};this.PRIVATE.listeners.push(s),s.apply()}},registerListeners:{value:(e,t)=>{for(let r in t)this.UTIL.registerListener(e,r,t[r])}}}),this.PRIVATE.initialize(e)}attributeChangedCallback(e,t,r){this.emit("attribute.change",{attribute:e,oldValue:t,newValue:r});let{attributes:s,booleanAttributes:i}=this.PRIVATE;s.hasOwnProperty(e)&&s[e]!==r?this.PRIVATE.attributes[e]=r:i.hasOwnProperty(e)&&"true"!==r&&""!==r&&(this.PRIVATE.booleanAttributes[e]=r),this.emit("attribute.changed",{attribute:e,oldValue:t,newValue:r})}connectedCallback(){Object.defineProperty(this.PRIVATE,"styleSheet",{value:this.shadowRoot.querySelector("style").sheet}),this.emit("connected"),setTimeout(()=>this.emit("rendered"),0)}disconnectedCallback(){this.PRIVATE.listeners.forEach(e=>e.remove()),this.emit("disconnected")}emit(e,t,r=null){let s=this.UTIL.createEvent(e,t);if(r)return r.dispatchEvent(s);this.dispatchEvent(s)}off(e,t){this.removeEventListener(e,t)}on(e,t){this.addEventListener(e,t)}})}();
//# sourceMappingURL=author-base.min.js.map
