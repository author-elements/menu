{"version":3,"file":"author-select.es5.min.js","sources":["../src/element.js"],"sourcesContent":["class AuthorSelectElement extends AuthorMenuElement {\n  constructor () {\n    super(`{{TEMPLATE-STRING}}`)\n\n    this.UTIL.defineProperties({\n      selectedOptionsElement: {\n        readonly: true,\n        get: () => this.querySelector('author-selected-options')\n      },\n\n      type: {\n        readonly: true,\n        get: () => this.multiple ? 'select-multiple' : 'select-one'\n      }\n    })\n\n    this.UTIL.defineAttributes({\n      multiple: false\n    })\n\n    this.UTIL.registerListeners(this, {\n      'attribute.change': evt => {\n        let { attribute, oldValue, newValue } = evt.detail\n\n        if (newValue === oldValue) {\n          return\n        }\n\n        switch (attribute) {\n          case 'multiple': return this.emit('state.change', {\n            name: 'multiple',\n            value: this.multiple\n          })\n\n          case 'placeholder':\n            if (this.selectedOptionsElement) {\n              this.selectedOptionsElement.update()\n            }\n\n            break\n        }\n      },\n\n      'options.selected': evt => this.emit('options.selected', evt.detail.options, this.selectedOptionsElement)\n    })\n  }\n\n  static get observedAttributes () {\n    return [...AuthorMenuElement.observedAttributes, 'multiple']\n  }\n\n  clear () {\n    super.clear()\n    this.selectedOptionsElement.clear()\n  }\n\n  inject (sourceElement, labels = null) {\n    super.inject(sourceElement, labels)\n\n    if (sourceElement.localName === 'select') {\n      let selectedOptionsElement = document.createElement('author-selected-options')\n      selectedOptionsElement.slot = 'selectedoptions'\n      this.appendChild(selectedOptionsElement)\n\n      if (!this.multiple) {\n        let selectedOption = this.optionsElement.options[this.selectedIndex]\n\n        if (selectedOption) {\n          this.selectedOptionsElement.add(selectedOption);\n        }\n      }\n    }\n  }\n}\n\ncustomElements.define('author-select', AuthorSelectElement)\n\nexport default AuthorSelectElement\n"],"names":["AuthorSelectElement","UTIL","defineProperties","selectedOptionsElement","readonly","get","_this","querySelector","type","multiple","defineAttributes","registerListeners","evt","detail","attribute","oldValue","newValue","emit","name","value","update","options","AuthorMenuElement","observedAttributes","clear","sourceElement","labels","localName","document","createElement","slot","appendChild","this","selectedOption","optionsElement","selectedIndex","add","customElements","define"],"mappings":"ggEAAMA,oxBAIGC,KAAKC,iBAAiB,CACzBC,uBAAwB,CACtBC,UAAU,EACVC,IAAK,kBAAMC,EAAKC,cAAc,6BAGhCC,KAAM,CACJJ,UAAU,EACVC,IAAK,kBAAMC,EAAKG,SAAW,kBAAoB,mBAI9CR,KAAKS,iBAAiB,CACzBD,UAAU,MAGPR,KAAKU,uBAAwB,oBACZ,SAAAC,SACsBA,EAAIC,OAAtCC,IAAAA,UAAWC,IAAAA,cAAUC,WAEVD,SAITD,OACD,kBAAmBR,EAAKW,KAAK,eAAgB,CAChDC,KAAM,WACNC,MAAOb,EAAKG,eAGT,cACCH,EAAKH,0BACFA,uBAAuBiB,8BAOhB,SAAAR,UAAON,EAAKW,KAAK,mBAAoBL,EAAIC,OAAOQ,QAASf,EAAKH,mRA3CtDmB,qFAgDnBA,kBAAkBC,qBAAoB,iGAK5CpB,uBAAuBqB,uCAGtBC,OAAeC,yDAAS,kDACjBD,EAAeC,GAEI,WAA5BD,EAAcE,UAAwB,KACpCxB,EAAyByB,SAASC,cAAc,8BACpD1B,EAAuB2B,KAAO,uBACzBC,YAAY5B,IAEZ6B,KAAKvB,SAAU,KACdwB,EAAiBD,KAAKE,eAAeb,QAAQW,KAAKG,eAElDF,QACG9B,uBAAuBiC,IAAIH,iDAO1CI,eAAeC,OAAO,gBAAiBtC"}