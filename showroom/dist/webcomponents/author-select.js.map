{"version":3,"file":"author-select.js","sources":["../src/element.js"],"sourcesContent":["class AuthorSelectElement extends AuthorMenuElement {\n  constructor () {\n    super(`{{TEMPLATE-STRING}}`)\n\n    this.UTIL.defineProperties({\n      selectedOptionsElement: {\n        readonly: true,\n        get: () => this.querySelector('author-selected-options')\n      },\n\n      type: {\n        readonly: true,\n        get: () => this.multiple ? 'select-multiple' : 'select-one'\n      }\n    })\n\n    this.UTIL.defineAttributes({\n      multiple: false\n    })\n\n    this.UTIL.registerListeners(this, {\n      'attribute.change': evt => {\n        let { attribute, oldValue, newValue } = evt.detail\n\n        if (newValue === oldValue) {\n          return\n        }\n\n        switch (attribute) {\n          case 'multiple': return this.emit('state.change', {\n            name: 'multiple',\n            value: this.multiple\n          })\n\n          case 'placeholder':\n            if (this.selectedOptionsElement) {\n              this.selectedOptionsElement.update()\n            }\n\n            break\n        }\n      },\n\n      'options.selected': evt => this.emit('options.selected', evt.detail.options, this.selectedOptionsElement)\n    })\n  }\n\n  static get observedAttributes () {\n    return [...AuthorMenuElement.observedAttributes, 'multiple']\n  }\n\n  clear () {\n    super.clear()\n    this.selectedOptionsElement.clear()\n  }\n\n  inject (sourceElement, labels = null) {\n    super.inject(sourceElement, labels)\n\n    if (sourceElement.localName === 'select') {\n      let selectedOptionsElement = document.createElement('author-selected-options')\n      selectedOptionsElement.slot = 'selectedoptions'\n      this.appendChild(selectedOptionsElement)\n\n      if (!this.multiple) {\n        let selectedOption = this.optionsElement.options[this.selectedIndex]\n\n        if (selectedOption) {\n          this.selectedOptionsElement.add(selectedOption);\n        }\n      }\n    }\n  }\n}\n\ncustomElements.define('author-select', AuthorSelectElement)\n\nexport default AuthorSelectElement\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;UAAA,MAAM,mBAAmB,SAAS,iBAAiB,CAAC;EACpD,EAAE,WAAW,CAAC,GAAG;EACjB,IAAI,KAAK,CAAC,CAAC,+iBAAmB,CAAC,EAAC;;EAEhC,IAAI,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC;EAC/B,MAAM,sBAAsB,EAAE;EAC9B,QAAQ,QAAQ,EAAE,IAAI;EACtB,QAAQ,GAAG,EAAE,MAAM,IAAI,CAAC,aAAa,CAAC,yBAAyB,CAAC;EAChE,OAAO;;EAEP,MAAM,IAAI,EAAE;EACZ,QAAQ,QAAQ,EAAE,IAAI;EACtB,QAAQ,GAAG,EAAE,MAAM,IAAI,CAAC,QAAQ,GAAG,iBAAiB,GAAG,YAAY;EACnE,OAAO;EACP,KAAK,EAAC;;EAEN,IAAI,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC;EAC/B,MAAM,QAAQ,EAAE,KAAK;EACrB,KAAK,EAAC;;EAEN,IAAI,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE;EACtC,MAAM,kBAAkB,EAAE,GAAG,IAAI;EACjC,QAAQ,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,OAAM;;EAE1D,QAAQ,IAAI,QAAQ,KAAK,QAAQ,EAAE;EACnC,UAAU,MAAM;EAChB,SAAS;;EAET,QAAQ,QAAQ,SAAS;EACzB,UAAU,KAAK,UAAU,EAAE,OAAO,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;EAC5D,YAAY,IAAI,EAAE,UAAU;EAC5B,YAAY,KAAK,EAAE,IAAI,CAAC,QAAQ;EAChC,WAAW,CAAC;;EAEZ,UAAU,KAAK,aAAa;EAC5B,YAAY,IAAI,IAAI,CAAC,sBAAsB,EAAE;EAC7C,cAAc,IAAI,CAAC,sBAAsB,CAAC,MAAM,GAAE;EAClD,aAAa;;EAEb,YAAY,KAAK;EACjB,SAAS;EACT,OAAO;;EAEP,MAAM,kBAAkB,EAAE,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,kBAAkB,EAAE,GAAG,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,sBAAsB,CAAC;EAC/G,KAAK,EAAC;EACN,GAAG;;EAEH,EAAE,WAAW,kBAAkB,CAAC,GAAG;EACnC,IAAI,OAAO,CAAC,GAAG,iBAAiB,CAAC,kBAAkB,EAAE,UAAU,CAAC;EAChE,GAAG;;EAEH,EAAE,KAAK,CAAC,GAAG;EACX,IAAI,KAAK,CAAC,KAAK,GAAE;EACjB,IAAI,IAAI,CAAC,sBAAsB,CAAC,KAAK,GAAE;EACvC,GAAG;;EAEH,EAAE,MAAM,CAAC,CAAC,aAAa,EAAE,MAAM,GAAG,IAAI,EAAE;EACxC,IAAI,KAAK,CAAC,MAAM,CAAC,aAAa,EAAE,MAAM,EAAC;;EAEvC,IAAI,IAAI,aAAa,CAAC,SAAS,KAAK,QAAQ,EAAE;EAC9C,MAAM,IAAI,sBAAsB,GAAG,QAAQ,CAAC,aAAa,CAAC,yBAAyB,EAAC;EACpF,MAAM,sBAAsB,CAAC,IAAI,GAAG,kBAAiB;EACrD,MAAM,IAAI,CAAC,WAAW,CAAC,sBAAsB,EAAC;;EAE9C,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;EAC1B,QAAQ,IAAI,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,EAAC;;EAE5E,QAAQ,IAAI,cAAc,EAAE;EAC5B,UAAU,IAAI,CAAC,sBAAsB,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;EAC1D,SAAS;EACT,OAAO;EACP,KAAK;EACL,GAAG;EACH,CAAC;;EAED,cAAc,CAAC,MAAM,CAAC,eAAe,EAAE,mBAAmB,CAAC;;;;;;;;"}